(function(t){function e(e){for(var a,s,r=e[0],o=e[1],l=e[2],u=0,h=[];u<r.length;u++)s=r[u],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&h.push(i[s][0]),i[s]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(t[a]=o[a]);p&&p(e);while(h.length)h.shift()();return c.push.apply(c,l||[]),n()}function n(){for(var t,e=0;e<c.length;e++){for(var n=c[e],a=!0,s=1;s<n.length;s++){var r=n[s];0!==i[r]&&(a=!1)}a&&(c.splice(e--,1),t=o(o.s=n[0]))}return t}var a={},s={app:0},i={app:0},c=[];function r(t){return o.p+"js/"+({}[t]||t)+"."+{"chunk-04024ffe":"a8ed99dc","chunk-0ee4c79c":"e3c98032","chunk-2056bdfc":"fc172fc9"}[t]+".js"}function o(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.e=function(t){var e=[],n={"chunk-04024ffe":1,"chunk-0ee4c79c":1,"chunk-2056bdfc":1};s[t]?e.push(s[t]):0!==s[t]&&n[t]&&e.push(s[t]=new Promise((function(e,n){for(var a="css/"+({}[t]||t)+"."+{"chunk-04024ffe":"9fa65cce","chunk-0ee4c79c":"173ec6b6","chunk-2056bdfc":"63abb2f9"}[t]+".css",i=o.p+a,c=document.getElementsByTagName("link"),r=0;r<c.length;r++){var l=c[r],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===a||u===i))return e()}var h=document.getElementsByTagName("style");for(r=0;r<h.length;r++){l=h[r],u=l.getAttribute("data-href");if(u===a||u===i)return e()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=e,p.onerror=function(e){var a=e&&e.target&&e.target.src||i,c=new Error("Loading CSS chunk "+t+" failed.\n("+a+")");c.code="CSS_CHUNK_LOAD_FAILED",c.request=a,delete s[t],p.parentNode.removeChild(p),n(c)},p.href=i;var d=document.getElementsByTagName("head")[0];d.appendChild(p)})).then((function(){s[t]=0})));var a=i[t];if(0!==a)if(a)e.push(a[2]);else{var c=new Promise((function(e,n){a=i[t]=[e,n]}));e.push(a[2]=c);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,o.nc&&u.setAttribute("nonce",o.nc),u.src=r(t);var h=new Error;l=function(e){u.onerror=u.onload=null,clearTimeout(p);var n=i[t];if(0!==n){if(n){var a=e&&("load"===e.type?"missing":e.type),s=e&&e.target&&e.target.src;h.message="Loading chunk "+t+" failed.\n("+a+": "+s+")",h.name="ChunkLoadError",h.type=a,h.request=s,n[1](h)}i[t]=void 0}};var p=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(e)},o.m=t,o.c=a,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(n,a,function(e){return t[e]}.bind(null,a));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/",o.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=e,l=l.slice();for(var h=0;h<l.length;h++)e(l[h]);var p=u;c.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var a=n("85ec"),s=n.n(a);s.a},"231c":function(t,e,n){},2975:function(t,e,n){"use strict";var a=n("231c"),s=n.n(a);s.a},4285:function(t,e,n){"use strict";var a=n("e269"),s=n.n(a);s.a},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("router-view")},i=[],c={components:{}},r=c,o=(n("034f"),n("2877")),l=Object(o["a"])(r,s,i,!1,null,null,null),u=l.exports,h=n("b970"),p=(n("157a"),n("d3b7"),n("8c4f")),d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"abouthome"},[n("div",{staticClass:"header"},[n("img",{staticStyle:{width:"100%",height:"100%"},attrs:{src:"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1598093736018&di=47b0517e374c11455421eb44c6002cad&imgtype=0&src=http%3A%2F%2Fimgsrc.baidu.com%2Fforum%2Fw%3D580%2Fsign%3De416f47509b30f24359aec0bf894d192%2F4d1f5fce3bc79f3d6743bb24bca1cd11728b2923.jpg",alt:""}}),n("div",{staticClass:"movebox"},[n("div",{staticClass:"move"},[n("div",{staticClass:"headimg"},[n("img",{attrs:{src:t.ip+t.merchantobj.avatar,alt:""}})]),n("div",{staticClass:"headContent"},[n("p",[n("span",{staticClass:"s1"},[t._v("品牌")]),n("span",{staticClass:"s2"},[t._v(t._s(t.merchantobj.name))])]),n("p",[t._v(t._s(t.merchantobj.description))]),n("p",{staticStyle:{display:"flex","align-items":"center"}},[n("span",{staticClass:"s3"},[t._v("减")]),n("span",{staticClass:"s4"},[t._v(t._s(t.merchantobj.bulletin))]),n("span",{staticClass:"s5",on:{click:function(e){t.show=!0}}},[t._v("5个>")])])])])])]),n("van-overlay",{attrs:{show:t.show},on:{click:function(e){t.show=!1}}},[n("div",{staticClass:"wrapper",on:{click:function(e){t.show=!1}}},[n("div",{staticClass:"store"},[n("p",[t._v("千转(高新店)")]),n("van-rate",{attrs:{"allow-half":"","void-icon":"star",size:"26",gutter:"10px",color:"#FE9A02",readonly:""},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1),n("van-divider",[t._v("优惠信息")]),n("div",{staticClass:"discount"},[n("p",[n("span",{staticClass:"s1"},[t._v("减")]),t._v("单人精彩套餐 ")]),n("p",[n("span",{staticClass:"s2"},[t._v("折")]),t._v("vc无限次果汁全场8折 ")]),n("p",[n("span",{staticClass:"s2"},[t._v("折")]),t._v("在线支付满28减5 ")]),n("p",[n("span",{staticClass:"s3"},[t._v("特")]),t._v("特价商品8折抢购 ")]),n("p",[n("span",{staticClass:"s3"},[t._v("特")]),t._v("单人特色套餐 ")])]),n("van-divider",[t._v("商家公告")]),n("div",{staticClass:"announce"},[t._v('尊敬的客官,端午攻略:①6月1日当天在评论区分享童年趣事赠6元无门槛红包②下单时在订单备注出填写【六一儿童节快乐】随机赠送"回忆杀爆款玩具",数量有限,送完即止.提前预祝大小宝宝节日开心.')])],1)]),n("div",{staticClass:"tell"},[n("van-notice-bar",{attrs:{"left-icon":"volume-o",scrollable:!1,background:"#f7f7f7"}},[n("van-swipe",{staticClass:"notice-swipe",attrs:{vertical:"",autoplay:3e3,"show-indicators":!1}},[n("van-swipe-item",[t._v("今日折扣低至8折")]),n("van-swipe-item",[t._v("购买特定商品赠送指定奶茶")])],1)],1)],1),n("div",{staticClass:"titletab"},[n("van-tabs",{attrs:{color:"#fec301"},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[n("van-tab",{attrs:{title:"商品",to:"/"}}),n("van-tab",{attrs:{title:"评价",to:"/home/comment"}}),n("van-tab",{attrs:{title:"商家",to:"/home/merchant"}})],1)],1),n("router-view")],1)},f=[],v=n("d282"),m={data:function(){return{active:0,show:!1,value:5,merchantobj:{},ip:""}},created:function(){var t=this;this.ip=v["d"],Object(v["b"])().then((function(e){var n=e.data.data;n.avatar=n.avatar.substring(21),t.merchantobj=n}))}},g=m,b=(n("4285"),Object(o["a"])(g,d,f,!1,null,null,null)),_=b.exports,w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"main"},[n("div",{staticClass:"left"},[n("div",[n("van-sidebar",{model:{value:t.activeKey,callback:function(e){t.activeKey=e},expression:"activeKey"}},t._l(t.initcatelist_X,(function(e,a){return n("van-sidebar-item",{key:a,attrs:{title:e.name},on:{click:function(e){return t.tabchange(a)}}})})),1)],1)]),n("div",{staticClass:"right"},[n("div",t._l(t.initcatelist_X,(function(e,a){return n("div",{key:a,attrs:{id:a}},[n("h4",[t._v(t._s(e.name))]),t._l(e.foods,(function(e){return n("div",{key:e.id,staticClass:"item"},[n("div",{staticStyle:{width:"80px","border-radius":"5px",height:"80px"}},[n("img",{staticStyle:{width:"80px","border-radius":"5px",height:"80px"},attrs:{src:t.ip+e.imgUrl,alt:""},on:{click:function(n){return t.clickto(e.id)}}})]),n("div",{staticClass:"more"},[n("h3",[t._v(t._s(e.name))]),n("p",{staticClass:"s1"},[t._v("月售"+t._s(e.sellCount)+" 好评率"+t._s(e.rating)+"%")]),n("div",{staticClass:"shopcar"},[n("p",[n("span",{staticClass:"s3"},[t._v("￥"+t._s(e.price))]),n("span",{staticClass:"s2"},[t._v("￥99.4")])]),n("p",{staticClass:"control"},[n("button",{directives:[{name:"show",rawName:"v-show",value:0!=e.nums,expression:"item.nums!=0"}],staticClass:"rec",on:{click:function(n){return t.clickchange(e.id,-1)}}},[t._v("-")]),n("span",{directives:[{name:"show",rawName:"v-show",value:0!=e.nums,expression:"item.nums!=0"}]},[t._v(t._s(e.nums))]),n("button",{on:{click:function(n){return t.clickchange(e.id,1)}}},[t._v("+")])])])])])}))],2)})),0)]),n("div",{staticClass:"desc",on:{click:t.showPopup}},[n("van-icon",{attrs:{name:"cart-circle",size:"50",color:t.shopcar_X.length>0?"#FEC301":"#666"}}),n("div",{staticClass:"price"},[n("span",{staticClass:"spri"},[t._v("￥"+t._s(t.count))]),n("p",[t._v("另需配送费￥4元|支持自取")])]),n("p",{directives:[{name:"show",rawName:"v-show",value:0==t.shopcar_X.length,expression:"shopcar_X.length==0"}],staticStyle:{color:"#fff","padding-right":"10px"}},[t._v("￥20元起送")]),n("p",{directives:[{name:"show",rawName:"v-show",value:t.shopcar_X.length>0&&t.count<20,expression:"shopcar_X.length>0&&count<20"}],staticStyle:{color:"#fff","padding-right":"10px"}},[t._v("还差￥"+t._s(20-t.count)+"元起送")]),n("p",{directives:[{name:"show",rawName:"v-show",value:t.count>=20,expression:"count>=20"}],staticStyle:{color:"#fff"}},[n("span",{staticStyle:{display:"inline-block",width:"80px",height:"60px",background:"#FEC301","line-height":"60px","text-align":"center","font-size":"14px",color:"#000","border-bottom-right-radius":"30px","border-top-right-radius":"30px"}},[t._v("去结算")])])],1),n("div",{staticStyle:{"z-index":"66"},attrs:{id:"alert"}},[n("van-popup",{style:{maxHeight:"60%",minHeight:"30%"},attrs:{round:"",position:"bottom"},model:{value:t.isshow,callback:function(e){t.isshow=e},expression:"isshow"}},[n("p",{staticStyle:{height:"30px",background:"#FEDD6E","font-size":"14px","text-align":"center","line-height":"30px"}},[t._v("下单立减5元")]),t._l(t.shopcar_X,(function(e){return n("div",{key:e.id,staticClass:"sinitem"},[n("img",{staticStyle:{width:"60px","border-radius":"5px",height:"60px"},attrs:{src:t.ip+e.imgUrl,alt:""}}),n("div",{staticClass:"more"},[n("h3",[t._v(t._s(e.name))]),n("p",{staticClass:"s1"},[t._v("月售"+t._s(e.sellCount)+" 好评率"+t._s(e.rating)+"%")]),n("div",{staticClass:"shopcar"},[n("p",[n("span",{staticClass:"s3"},[t._v("￥"+t._s(e.price))]),n("span",{staticClass:"s2"},[t._v("￥99.4")])]),n("p",{staticClass:"control"},[n("button",{directives:[{name:"show",rawName:"v-show",value:0!=e.nums,expression:"shop.nums!=0"}],staticClass:"rec",on:{click:function(n){return t.clickchange2(e.id,-1)}}},[t._v("-")]),n("span",{directives:[{name:"show",rawName:"v-show",value:0!=e.nums,expression:"shop.nums!=0"}]},[t._v(t._s(e.nums))]),n("button",{on:{click:function(n){return t.clickchange2(e.id,1)}}},[t._v("+")])])])])])})),n("p",{staticStyle:{height:"70px",background:"#fff"}})],2)],1)])},y=[],C=(n("d81d"),n("b0c0"),n("b85c")),k=n("1fba"),x={data:function(){return{ip:"",activeKey:0,nums:"",isshow:!1}},computed:{initcatelist_X:function(){return this.$store.state.catelist},shopcar_X:function(){return this.$store.getters.shopcar},count:function(){var t=0;return this.initcatelist_X.map((function(e){e.foods.map((function(e){t+=e.nums*e.price}))})),t},getarea:function(){for(var t=[],e=0,n=0;n<this.initcatelist_X.length;n++){var a=document.getElementById(n).offsetHeight;t.push({startY:e,endY:e+a,index:n}),e+=a}return t}},methods:{clickchange2:function(t,e){this.$store.commit("changenum",{itemid:t,number:e}),this.shopcar_X.length<=0&&(this.isshow=!1)},showPopup:function(){this.shopcar_X.length>0&&(this.isshow=!0)},tabchange:function(t){this.rightBScorll.scrollToElement(document.getElementById(t),600)},clickto:function(t){this.initcatelist_X.map((function(e){e.foods.map((function(e){e.id==t&&(localStorage.sellCount=e.sellCount,localStorage.price=e.price,localStorage.name=e.name,localStorage.rating=e.rating,localStorage.imgUrl=e.imgUrl,localStorage.goodsDesc=e.goodsDesc,localStorage.ratings=JSON.stringify(e.ratings))}))})),this.$router.push("/Details")},clickchange:function(t,e){this.$store.commit("changenum",{itemid:t,number:e})},getmore:function(){var t=this;Object(v["a"])().then((function(e){var n=e.data.goodsList;n.map((function(t){t.foods.map((function(t){t.imgUrl=t.imgUrl.substring(21),t.nums=0}))})),t.$store.commit("initcatelist",n)}))}},created:function(){this.ip=v["d"],this.getmore()},mounted:function(){var t=this;this.leftBScorll=new k["a"](document.querySelector(".left"),{click:!0}),this.rightBScorll=new k["a"](document.querySelector(".right"),{click:!0,probeType:3}),this.rightBScorll.on("scroll",(function(e){var n,a=Math.abs(e.y),s=Object(C["a"])(t.getarea);try{for(s.s();!(n=s.n()).done;){var i=n.value;a>=i.startY&&a<i.endY&&(t.activeKey=i.index)}}catch(c){s.e(c)}finally{s.f()}}))}},S=x,j=(n("2975"),Object(o["a"])(S,w,y,!1,null,"08b1c9bb",null)),E=j.exports;a["a"].use(p["a"]);var O=new p["a"]({routes:[{path:"/",name:"home",component:_,children:[{path:"/",name:"home/main",component:E},{path:"/home/comment",name:"home/comment",component:function(){return n.e("chunk-0ee4c79c").then(n.bind(null,"15e0"))}},{path:"/home/merchant",name:"home/merchant",component:function(){return n.e("chunk-04024ffe").then(n.bind(null,"d55f"))}}]},{path:"/details",name:"details",component:function(){return n.e("chunk-2056bdfc").then(n.bind(null,"ccd0"))}}]}),X=(n("4de4"),n("2f62"));a["a"].use(X["a"]);var N=new X["a"].Store({state:{catelist:[]},mutations:{initcatelist:function(t,e){t.catelist=e},changenum:function(t,e){t.catelist.map((function(t){t.foods.map((function(t){t.id!=e.itemid||(t.nums+=e.number)}))}))}},getters:{shopcar:function(t){var e=[];return t.catelist.filter((function(t){t.foods.filter((function(t){t.nums>0&&e.push(t)}))})),e}}});a["a"].use(h["a"]),a["a"].config.productionTip=!1,new a["a"]({router:O,store:N,render:function(t){return t(u)}}).$mount("#app")},"85ec":function(t,e,n){},d282:function(t,e,n){"use strict";n.d(e,"d",(function(){return i})),n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return o}));var a=n("bc3a"),s=n.n(a),i="http://127.0.0.1:5000";s.a.defaults.baseURL=i;var c=function(){return s.a.get("/goods/goods_list")},r=function(){return s.a.get("/shop/seller")},o=function(){return s.a.get("/shop/ratings")}},e269:function(t,e,n){}});
//# sourceMappingURL=app.145a355e.js.map